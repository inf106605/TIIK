/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package tiik;

import java.nio.charset.Charset;
import java.util.IllegalFormatCodePointException;
import java.util.Collections;
import java.util.Comparator;
import java.util.LinkedList;
import java.util.List;
import java.util.Map;

/**
 *
 * @author Marcin
 */
public class Main {

    /**
     * @param args the command line arguments
     */
    public static void main(String[] args) {
        // TODO code application logic here
        
        byte[] bytes = LitEN.getBytes(Charset.forName("windows-1252"));
        SomeStatistics ss = new SomeStatistics(bytes);

        final Map<Byte, Double> empiricalProbabilities = ss.getEmpiricalProbabilities();
        final Map<Byte, Double> quantitiesOfInformation = ss.getQuantitiesOfInformation();
        System.out.println("char: probability qantity-of-information");
        List<Byte> keys = new LinkedList<>(empiricalProbabilities.keySet());
	Comparator<Byte> unsignedByteComparator = new Comparator<Byte>() {
            @Override
            public int compare(final Byte byte1, final Byte byte2) {
                final int int1 = byteToUnsignedInt(byte1);
                final int int2 = byteToUnsignedInt(byte2);
                if (int1 < int2)
                    return -1;
                else if (int1 > int2)
                    return 1;
                else
                    return 0;
            }
            private int byteToUnsignedInt(byte b) {
                return b >= 0 ? b : b + 256;
            }
        };
        Collections.sort(keys, unsignedByteComparator);
        for (byte b : keys) {
            System.out.print(String.format("0x%02X ", b));
            try {
                System.out.print(String.format("'%c'", b));
            } catch (IllegalFormatCodePointException e) {
                System.out.print("   ");
            }
            System.out.println(String.format(": %2.4f%% %1.4f", empiricalProbabilities.get(b) * 100, quantitiesOfInformation.get(b)));
        }

        System.out.println();

        System.out.println("Binary entropy: " + ss.getBinaryEntropy());
    }

    static private String someExampleText = "[32]" + " Sed ut perspiciatis, unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam eaque ipsa, quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt, explicabo. Nemo enim ipsam voluptatem, quia voluptas sit, aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos, qui ratione voluptatem sequi nesciunt, neque porro quisquam est, qui dolorem ipsum, quia dolor sit, amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt, ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit, qui in ea voluptate velit esse, quam nihil molestiae consequatur, vel illum, qui dolorem eum fugiat, quo voluptas nulla pariatur?\n[33] At vero eos et accusamus et iusto odio dignissimos ducimus, qui blanditiis praesentium voluptatum deleniti atque corrupti, quos dolores et quas molestias excepturi sint, obcaecati cupiditate non provident, similique sunt in culpa, qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio, cumque nihil impedit, quo minus id, quod maxime placeat, facere possimus, omnis voluptas assumenda est, omnis dolor repellendus. Temporibus autem quibusdam et aut officiis debitis aut rerum necessitatibus saepe eveniet, ut et voluptates repudiandae sint et molestiae non recusandae. Itaque earum rerum hic tenetur a sapiente delectus, ut aut reiciendis voluptatibus maiores alias consequatur aut perferendis doloribus asperiores repellat.";

    private static final String LitPL = "\\nTa lektura, podobnie ?ak tysiące innych, ?est dostępna on-line na stronie\\nwolnelektury.pl.\\nUtwór opracowany został w ramach pro?ektu Wolne Lektury przez fundac?ę\\nNowoczesna Polska.\\nADAM MICKIEWICZ\\nPan Tadeusz czyli ostatni zajazd na\\nLitwie1\\n1Pan Tadeusz czyli ostatni zajazd na Litwie — za czasów Rzeczypospolité? Polskie? egzekwowanie wyroków\\nsądowych było bar?o trudne w kra?u, g?ie wła?a wykonawcza nie miała prawie żadne? polic?i pod swymi\\nrozkazami, a obywatele możni trzymali nadworne pułki, niektórzy nawet, ?ak książęta Ra?iwiłłowie, kilkunastotysięczne\\nwo?ska. Żału?ący więc, uzyskawszy dekret, musiał po egzekuc?ą udawać się do stanu rycerskiego,\\nto ?est do szlachty, przy które? była także wła?a wykonawcza. Zbro?ni krewni, przy?aciele i powietnicy ciągnęli\\nz dekretem w ręku i w towarzystwie woźnego, zdobywali (często nie bez rozlewu krwi) dobra przysą?one\\nżału?ącemu, które woźny legalnie tradował lub w poses?ą oddawał. Taka egzekuc?a zbro?na dekretu nazywała się\\nzajazdeP. W dawnych czasach, póki szanowano prawa, na?możnie?si panowie nie śmieli się opierać wyrokom;\\nrzadko zdarzały się zbro?ne napaści, a gwałt prawie nigdy nie uszedł bezkarnie. Zepsucie publicznych obycza?ów\\nw Rzeczypospolite? namnożyło za?azdów, które ciągle mieszały spoko?ność Litwy. [przypis autorski]\\nKSIĘGA PIERWSZA\\n????????????\\nPowrót panicza — Spotkanie się pierwsze w pokoiku, drugie u stołu — Ważna Sę?iego\\nnauka o grzeczności — Podkomorzego uwagi polityczne nad modami — Początek sporu\\no Kusego i Sokoła — Żale Wo?skiego — Ostatni Woźny Trybunału — Rzut oka na\\nówczesny stan polityczny Litwy i Europy\\nLitwo! O?czyzno mo?a! ty ?esteś ?ak zdrowie:\\nIle cię trzeba cenić, ten tylko się dowie,\\nO?czyzna, Zdrowie,\\nTęsknota\\nKto cię stracił. ?iś piękność twą w całe? ozdobie\\nWi?ę i opisu?ę, bo tęsknię po tobie.\\nPanno święta, co Jasne? bronisz Częstochowy\\nI w Ostre? świecisz Bramie2! Ty, co gród zamkowy\\nMatka Boska, Opieka, Cud\\nNowogró?ki ochraniasz z ?ego wiernym ludem!\\nJak mnie ?iecko do zdrowia powróciłaś cudem\\n(Gdy od płaczące? matki3, pod Two?ą opiekę\\nOfiarowany, martwą podniosłem powiekę;\\nI zaraz mogłem pieszo, do Twych świątyń progu\\nIść za wrócone życie po?iękować Bogu),\\nTak nas powrócisz cudem na O?czyzny łono.\\nTymczasem przenoś mo?ą duszę utęsknioną Rośliny\\nDo tych pagórków leśnych, do tych łąk zielonych,\\nSzeroko nad błękitnym Niemnem rozciągnionych;\\nDo tych pól malowanych zbożem rozmaitem,\\nWyzłacanych pszenicą, posrebrzanych żytem;\\nG?ie bursztynowy świerzop4, gryka ?ak śnieg biała,\\nG?ie panieńskim rumieńcem ?ięcielina5 pała,\\nA wszystko przepasane ?akby wstęgą, mie?ą\\nZieloną, na nie? z rzadka ciche grusze sie?ą.\\nŚród takich pól przed laty, nad brzegiem rucza?u6,\\nNa pagórku niewielkim, we brzozowym ga?u,\\nDom\\nStał dwór szlachecki, z drzewa, lecz podmurowany;\\nŚwieciły się z daleka pobielane ściany, Drzewo\\nTym bielsze, że odbite od ciemne? zieleni\\nTopoli, co go bronią od wiatrów ?esieni.\\nDom mieszkalny niewielki, lecz zewsząd chędogi7,\\nI stodołę miał wielką, i przy nie? trzy stogi\\nUżątku8, co pod strzechą zmieścić się nie może.\\nWidać, że okolica obfita we zboże,\\nI widać z liczby kopic?, co wzdłuż i wszerz smugów1°\\nŚwiecą gęsto ?ak gwiazdy, widać z liczby pługów\\nOrzących wcześnie łany ogromne ugoru11,\\nCzarnoziemne, zapewne należne do dworu,\\nUprawne dobrze na kształt ogrodowych grządek:\\nŻe w tym domu dostatek mieszka i porządek.\\n2Panno gwiUta ? w 2stUej gwiecisz %UaPie — Wszyscy w Polszcze wie?ą o obrazie cudownym N. P.\\nna Jasne? Górze w Częstochowie. W Litwie, słyną cudami obrazy N. P. Ostrobramskie? w Wilnie, Zamkowe?\\nw Nowogródku, tu?ież Żyrowieckie? i Boruńskie?. [przypis autorski]\\n3od ? PatNi ? o?aUowany (daw.) — ofiarowany przez matkę. [przypis edytorski]\\n4gwieUzoS (daw.) — pospolity chwast polny o złocistożółtych kwiatach. [przypis edytorski]\\n5?iUcielina (reg.) — gatunek koniczyny. [przypis edytorski]\\n6Uuczaj (poet.) — potok, strumień. [przypis edytorski]\\n7cKUdoJi (daw.) — schludny. [przypis edytorski]\\n8uľÇteN — zebrane plony, zżęte zboże. [przypis edytorski]\\n?NoSica (daw.) — kopa siana lub zboża. [przypis edytorski]\\n1°sPuJi — tu zapewne: odrębne pasma poszczególnych pól. [przypis edytorski]\\n11uJµU — pole nieuprawiane przez dłuższy czas. [przypis edytorski]\\n???? ?????????? Pan Tadeusz czyli ostatni zajazd na Litwie ?\\nBrama na wciąż12 otwarta przechodniom ogłasza,\\nŻe gościnna, i wszystkich w gościnę zaprasza.\\nWłaśnie dwukonną bryką w?echał młody panek\\nI obiegłszy ?ie?iniec zawrócił przed ganek.\\nWysiadł z powozu; konie porzucone same,\\nSzczypiąc trawę ciągnęły powoli pod bramę.\\nWe dworze pusto: bo drzwi od ganku zamknięto Dom, Gość, ?ieciństwo,\\nZaszczepkami i kołkiem zaszczepki przetknięto. Wspomnienia\\nPodróżny do folwarku nie biegł sług zapytać,\\nOdemknął, wbiegł do domu, pragnął go powitać.\\nDawno domu nie wi?iał, bo w dalekim mieście\\nKończył nauki, końca doczekał nareszcie.\\nWbiega i okiem chciwie ściany starodawne\\nOgląda czule, ?ako swe zna?ome dawne.\\nTeż same wi?i sprzęty, też same obicia,\\nZ którymi się zabawiać lubił od powicia13,\\nLecz mnie? wielkie, mnie? piękne niż się dawnie? zdały.\\nI też same portrety na ścianach wisiały: Historia, Polska\\nTu Kościuszko14 w czamarce15 krakowskie?, z oczyma\\nPodniesionymi w niebo, miecz oburącz trzyma;\\nTakim był, gdy przysięgał na stopniach ołtarzów,\\nŻe tym mieczem wypę?i z Polski trzech mocarzów,\\nAlbo sam na nim padnie. Dale? w polskie? szacie\\nSie?i Re?tan16, żałośny po wolności stracie;\\nW ręku trzyma nóż ostrzem zwrócony do łona,\\nA przed nim leży Fedon17 i żywot Katona18.\\nDale? Jasiński1?, mło?ian piękny i posępny;\\nObok Korsak2°, towarzysz ?ego nieodstępny:\\nSto?ą na szańcach21 Pragi, na stosach Moskali,\\nSiekąc wrogów, a Praga ?uż się wkoło pali.\\n12na wciÇľ (reg.) — na oścież. [przypis edytorski]\\n13od Sowicia (daw.) — od uro?enia; powić: uro?ić ?iecko. [przypis edytorski]\\n14.ogciuszNo Tadeusz (????–????) — Na?wyższy Naczelnik Siły Zbro?ne? Narodowe? podczas insurekc?i ????\\nroku, zwane? kościuszkowską, wszczęte? przeciw Ros?i i Prusom. [przypis edytorski]\\n15czaPaUNa (z pers. dľaPe, dľaPeUa; a. czaPe, czaPeUa) — dawne męskie ubranie wierzchnie; długa sukmana\\nzakładana na żupan, zapinana pod szy?ę, z długimi rękawami (niekiedy sięga?ącymi do ziemi), używana\\nprzez duchownych (prałatów i kanoników), modna wśród szlachty polskie? za czasów Stanisława Augusta Poniatowskiego,\\nzwł. podczas Se?mu Wielkiego, ?ako ubiór podobny do stro?u narodowego. [przypis edytorski]\\n165ejtan Tadeusz (????–????) — uczestnik konfederac?i barskie?, poseł ziemi nowogró?kie? na Se?m Rozbiorowy\\n(????–????), zgodnie z instrukc?ami otrzymanymi w swoim okręgu starał się „bronić całości Polski”;\\nwraz z innymi posłami próbował nie dopuścić do zatwier?enia traktatu rozbiorowego przez zawiązaną na se?-\\nmie konfederac?ę pod przewodnictwem księcia Adama Ponińskiego, a gdy to się nie powiodło, Re?tan miał\\nwłasnym ciałem zagro?ić drogę posłom wycho?ącym z sali obrad (scena ta znana ?est z obrazu Jana Mate?ki\\n5ejtan); po se?mie Re?tan wrócił na Litwę i według tradyc?i popadł w obłęd, a następnie popełnił samobó?stwo\\nz rozpaczy. [przypis edytorski]\\n17)edon — ?eden z dialogów filozoficznych Platona poświęcony tematyce postawy człowieka wobec śmierci,\\na także kwestii samobó?stwa, które, ?akkolwiek z zasady ?est czynem nagannym, niekiedy może być usprawiedliwione\\nprzez na?wycza?ne okoliczności. [przypis edytorski]\\n18Ľywot .atona — to tytuł ?ieła Plutarcha, biografia Katona Młodszego (??–?? p.n.e.), rzym. polityka,\\nfilozofa stoika, nieprze?ednanego zwolennika republiki, który ucho?ił za wzór cnót obywatelskich i uczciwości.\\nW walce o wła?ę mię?y Cezarem a Pompe?uszem Katon stanął po stronie tego ostatniego, a ?ego klęskę\\nuznał za równoznaczną upadkowi republiki i z tego powodu popełnił samobó?stwo w Utyce (stąd zwany ?est też\\nKatonem Utyceńskim). [przypis edytorski]\\n1?-asiĆsNi -aNuE (????–????) — gen. podczas insurekc?i kościuszkowskie?, dowo?ił powstaniem w Wilnie;\\nzginął podczas Rzezi Pragi ? listopada ???? r. broniąc Warszawy przed wo?skami Suworowa. [przypis edytorski]\\n2°.oUsaN Tadeusz (????–????) — dowo?ił pospolitym ruszeniem w okolicach Wilna podczas powstania\\nkościuszkowskiego; zginął podczas Rzezi Pragi ? listopada ???? r. broniąc Warszawy przed wo?skami Suworowa.\\n[przypis edytorski]\\n21szaniec — ziemne umocnienie składa?ące się z wału i rowu, stosowane do końca XIX w. w celu obrony\\nstanowisk artylerii. [przypis edytorski]\\n???? ?????????? Pan Tadeusz czyli ostatni zajazd na Litwie ?\\nNawet stary sto?ący zegar kurantowy22\\nW drewniane? szafie poznał, u wniścia23 alkowy24;\\nI z ?iecinną radością pociągnął za sznurek,\\nBy stary Dąbrowskiego usłyszeć mazurek.\\nBiegał po całym domu i szukał komnaty,\\nG?ie mieszkał ?ieckiem będąc, przed ?iesięciu laty. Dom, Kobieta\\nWcho?i, cofnął się, toczył zdumione źrenice\\nPo ścianach: w te? komnacie mieszkanie kobiéce!\\nKtóż by tu mieszkał? Stary stry? nie był żonaty;\\nA ciotka w Petersburgu mieszkała przed laty.\\nTo nie był ochmistrzyni25 pokó?? Fortepiano?\\nNa nim nuty i książki; wszystko porzucano\\nNiedbale i bezładnie: nieporządek miły!\\nNiestare były rączki, co ?e tak rzuciły.\\nTuż i sukienka biała, świeżo z kołka zd?ęta\\nDo ubrania, na krzesła poręczu rozpięta;\\nA na oknach donice z pachnącymi ziołki, Okno\\nGeranium, lewkon?a26, astry i fi?ołki.\\nPodróżny stanął w ?ednym z okien — nowe ?iwo:\\nW sa?ie, na brzegu niegdyś zarosłym pokrzywą, Ogród\\nBył maleńki ogródek ścieżkami porznięty27,\\nPełen bukietów trawy angielskie? i mięty.\\nDrewniany, drobny, w cy?ę powiązany płotek28\\nPołyskał się wstążkami ?askrawych stokrotek;\\nGrządki, widać, że były świeżo polewane,\\nTuż stało wody pełne naczynie blaszane,\\nAle nig?ie nie widać było ogrodniczki;\\nTylko co wyszła: ?eszcze kołyszą się drzwiczki\\nŚwieżo trącone, blisko drzwi ślad widać nóżki\\nNa piasku, bez trzewika była i pończoszki;\\nNa piasku drobnym, suchym, białym na kształt śniegu,\\nŚlad wyraźny, lecz lekki, odgadniesz, że w biegu\\nChybkim2? był zostawiony nóżkami drobnemi\\nOd kogoś3°, co zaledwie dotykał się ziemi.\\nPodróżny długo w oknie stał patrząc, duma?ąc,\\nWonnymi powiewami kwiatów oddycha?ąc.\\nOblicze aż na krzaki fi?ołkowe skłonił,\\nOczyma ciekawymi po drożynach gonił\\nI znowu ?e na drobnych śladach zatrzymywał,\\nMyślał o nich i, czy?e były, odgadywał.\\nPrzypadkiem oczy podniósł, i tuż na parkanie Stró?, Kobieta\\nStała młoda ?iewczyna… Białe ?e? ubranie\\nWysmukłą postać tylko aż do piersi kry?e,\\nOdsłania?ąc ramiona i łabę?ią szy?ę.\\nW takim Litwinka tylko cho?ić zwykła z rana,\\n22NuUantowy — posiada?ący kurant, czyli mechanizm umieszczony w zegarze wygrywa?ący ?akąś melodię.\\n[przypis edytorski]\\n23wnigcie (daw.) — we?ście. [przypis edytorski]\\n24alNowa (daw.) — wnęka lub pokoik sypialny. [przypis edytorski]\\n25ocKPistUzyni (daw.) — kobieta ma?ąca na?ór nad żeńską służbą na dworze królewskim lub magnackim;\\nkobieta zarzą?a?ąca gospodarstwem w dużym ma?ątku. [przypis edytorski]\\n26lewNonia — ozdobna roślina o silnie pachnących kwiatach. [przypis edytorski]\\n27SoUzniUty — ?iś: porżnięty. [przypis edytorski]\\n28w cyIUU SowiÇzany SĄoteN — płotek zbudowany z patyków a. sztachetek powiązanych na krzyż w taki sposób,\\nże tworzą znak X, przypomina?ąc cy?y rzymskie. [przypis edytorski]\\n2?cKyENi (daw.) — szybki i zwinny. [przypis edytorski]\\n3°od NoJog — tu: przez kogoś. [przypis edytorski]\\n???? ?????????? Pan Tadeusz czyli ostatni zajazd na Litwie ?\\nW takim nigdy nie bywa od mężczyzn wi?iana:\\nWięc choć świadka nie miała, założyła ręce\\nNa piersiach, przydawa?ąc zasłony sukience.\\nWłos w pukle nierozwity, lecz w węzełki małe\\nPokręcony, schowany w drobne strączki białe,\\n?iwnie ozdabiał głowę: bo od słońca blasku\\nŚwiecił się ?ak korona na świętych obrazku.\\nTwarzy nie było widać; zwrócona na pole\\nSzukała kogoś okiem, daleko, na dole;\\nU?rzała, zaśmiała się i klasnęła w dłonie,\\nJak biały ptak zleciała z parkanu na błonie31,\\nI wionęła ogrodem, przez płotki, przez kwiaty,\\nI po desce oparte? o ścianę komnaty…\\nNim spostrzegł się, wleciała przez okno, świecąca, Kobieta, Mężczyzna,\\n";
    
    private static final String LitEN = "l\\nBy William Shakespeare\\nROMEO AND JULIET\\nVOLUME IV BOOK IX\\nDramatis Personae\\nESCALUS prince of Verona. (PRINCE)\\nPARIS a young nobleman, kinsman to the prince.\\nAn old man, cousin to Capulet. (SECOND CAPULET)\\nROMEO son to Montague.\\nMERCUTIO kinsman to the prince, and friend to Romeo.\\nBENVOLIO nephew to Montague, and friend to Romeo.\\nTYBALT nephew to Lady Capulet.\\nMONTAGUE heads of two houses\\nat variance with\\nCAPULET each other.\\nFRIAR LAURENCE\\nFranciscans.\\nFRIAR JOHN\\nBALTHASAR servant to Romeo.\\nPETER servant to Juliet’s nurse.\\nABRAHAM servant to Montague.\\nAn Apothecary. (APOTHECARY)\\nThree Musicians.\\n(FIRST MUSICIAN)\\n(SECOND MUSICIAN)\\n(THIRD MUSICIAN)\\nPage to Paris; (PAGE) another Page; an Officer.\\nLADY MONTAGUE wife to Montague.\\nLADY CAPULET wife to Capulet.\\nJULIET daughter to Capulet.\\nNurse to Juliet. (NURSE)\\nCitizens of Verona; several Men and Women,\\nrelations to both houses; Maskers,\\nSAMPSON\\nservants to Capulet.\\nGREGORY\\nGuards, Watchmen, and Attendants.\\n(FIRST CITIZEN), (SERVANT), (FIRST SERVANT), (SECOND SERVANT), (FIRST WATCHMAN), (SECOND\\nWATCHMAN), (THIRD WATCHMAN), Chorus.\\nSCENE Verona: Mantua.\\nVolume III Book IX 5\\nRomeo and Juliet\\nPROLOGUE\\nTwo households, both alike in dignity,\\nIn fair Verona, where we lay our scene,\\nFrom ancient grudge break to new mutiny,\\nWhere civil blood makes civil hands unclean.\\nFrom forth the fatal loins of these two foes\\nA pair of star-cross’d lovers take their life;\\nWhole misadventured piteous overthrows\\nDo with their death bury their parents’ strife.\\nThe fearful passage of their death-mark’d love,\\nAnd the continuance of their parents’ rage,\\nWhich, but their children’s end, nought could remove,\\nIs now the two hours’ traffic of our stage;\\nThe which if you with patient ears attend,\\nWhat here shall miss, our toil shall strive to mend.\\nSAMPSON A dog of that house shall move me to stand:\\nI will take the wall of any man or maid of Montague’s.\\nGREGORY That shows thee a weak slave; for the weakest\\ngoes to the wall.\\nSAMPSON True; and therefore women, being the\\nweaker vessels, are ever thrust to the wall: therefore I\\nwill push Montague’s men from the wall, and thrust his\\nmaids to the wall.\\nGREGORY The quarrel is between our masters and us\\ntheir men.\\nSAMPSON ’Tis all one, I will show myself a tyrant: when\\nI have fought with the men, I will be cruel with the\\nmaids, and cut off their heads.\\nGREGORY The heads of the maids?\\nSAMPSON Ay, the heads of the maids, or their\\nmaidenheads; take it in what sense thou wilt.\\nGREGORY They must take it in sense that feel it.\\nSCENE I\\nVerona. A public place.\\n[Enter SAMPSON and GREGORY, of the house\\nof CAPULET, armed with swords and bucklers]\\nSAMPSON Gregory, o’ my word, we’ll not carry coals.\\nGREGORY No, for then we should be colliers.\\nSAMPSON I mean, an we be in choler, we’ll draw.\\nGREGORY Ay, while you live, draw your neck out\\no’ the collar.\\nSAMPSON I strike quickly, being moved.\\nGREGORY But thou art not quickly moved to strike.\\nSAMPSON A dog of the house of Montague moves me.\\nGREGORY To move is to stir; and to be valiant is to\\nstand: therefore, if thou art moved, thou runn’st away.\\nACT I\\nRomeo and Juliet: ACT I\\n6 Volume III Book IX\\nSAMPSON Me they shall feel while I am able to stand:\\nand’tis known I am a pretty piece of flesh.\\nGREGORY ’Tis well thou art not fish; if thou hadst, thou\\nhadst been poor John. Draw thy tool! here comes\\ntwo of the house of the Montagues.\\nSAMPSON My naked weapon is out: quarrel,\\nI will back thee.\\nGREGORY How! turn thy back and run?\\nSAMPSON Fear me not.\\nGREGORY No, marry; I fear thee!\\nSAMPSON Let us take the law of our sides;\\nlet them begin.\\nGREGORY I will frown as I pass by, and let them take it\\nas they list.\\nSAMPSON Nay, as they dare. I will bite my thumb at\\nthem; which is a disgrace to them, if they bear it.\\n[Enter ABRAHAM and BALTHASAR]\\nABRAHAM Do you bite your thumb at us, sir?\\nSAMPSON I do bite my thumb, sir.\\nABRAHAM Do you bite your thumb at us, sir?\\nSAMPSON [Aside to GREGORY] Is the law of our side,\\nif I say ay?\\nGREGORY No.\\nSAMPSON No, sir, I do not bite my thumb at you, sir,\\nbut I bite my thumb, sir.\\nGREGORY Do you quarrel, sir?\\nABRAHAM Quarrel sir! no, sir.\\nSAMPSON If you do, sir, I am for you: I serve as good a\\nman as you.\\nABRAHAM No better.\\nSAMPSON Well, sir.\\nGREGORY Say “better”: here comes one of my\\nmaster’s kinsmen.\\nSAMPSON Yes, better, sir.\\nABRAHAM You lie.\\nSAMPSON Draw, if you be men. Gregory, remember thy\\nswashing blow.\\n[They fight]\\n[Enter BENVOLIO]\\nBENVOLIO Part, fools!\\nPut up your swords; you know not what you do.\\n[Beats down their swords]\\n[Enter TYBALT]\\nTYBALT What, art thou drawn among these\\nheartless hinds?\\nTurn thee, Benvolio, look upon thy death.\\nBENVOLIO I do but keep the peace: put up thy sword,\\nOr manage it to part these men with me.\\nTYBALT What, drawn, and talk of peace! I hate\\nthe word,\\nAs I hate hell, all Montagues, and thee:\\nHave at thee, coward!\\n[They fight]\\n[Enter, several of both houses, who join the fray;\\nthen enter Citizens, with clubs]\\nFIRST CITIZEN Clubs, bills, and partisans! strike! beat\\nthem down!\\nDown with the Capulets! down with the Montagues!\\n[Enter CAPULET in his gown, and LADY\\nCAPULET]\\nCAPULET What noise is this? Give me my\\nlong sword, ho!\\nLADY CAPULET A crutch, a crutch! why call you\\nfor a sword?\\nCAPULET My sword, I say! Old Montague is come,\\nAnd flourishes his blade in spite of me.\\n[Enter MONTAGUE and LADY MONTAGUE]\\nMONTAGUE Thou villain Capulet,—Hold me not, let\\nme go.\\nLADY MONTAGUE Thou shalt not stir a foot to seek a foe.\\n[Enter PRINCE, with Attendants]\\nPRINCE Rebellious subjects, enemies to peace,\\nProfaners of this neighbour-stained steel,—\\nWill they not hear? What, ho! you men, you beasts,\\nThat quench the fire of your pernicious rage\\nRomeo and Juliet: ACT I\\nVolume III Book IX 7\\nWith purple fountains issuing from your veins,\\nOn pain of torture, from those bloody hands\\nThrow your mistemper’d weapons to the ground,\\nAnd hear the sentence of your moved prince.\\nThree civil brawls, bred of an airy word,\\nBy thee, old Capulet, and Montague,\\nHave thrice disturb’d the quiet of our streets,\\nAnd made Verona’s ancient citizens\\nCast by their grave beseeming ornaments,\\nTo wield old partisans, in hands as old,\\nCanker’d with peace, to part your canker’d hate:\\nIf ever you disturb our streets again,\\nYour lives shall pay the forfeit of the peace.\\nFor this time, all the rest depart away:\\nYou, Capulet, shall go along with me:\\nAnd, Montague, come you this afternoon,\\nTo know our further pleasure in this case,\\nTo old Free-town, our common judgement-place.\\nOnce more, on pain of death, all men depart.\\n[Exeunt all but MONTAGUE, LADY\\nMONTAGUE, and BENVOLIO]\\nMONTAGUE Who set this ancient quarrel new abroach?\\nSpeak, nephew, were you by when it began?\\nBENVOLIO Here were the servants of your adversary,\\nAnd yours, close fighting ere I did approach:\\nI drew to part them: in the instant came\\nThe fiery Tybalt, with his sword prepared,\\nWhich, as he breathed defiance to my ears,\\nHe swung about his head and cut the winds,\\nWho nothing hurt withal hiss’d him in scorn:\\nWhile we were interchanging thrusts and blows,\\nCame more and more and fought on part and part,\\nTill the prince came, who parted either part.\\nLADY MONTAGUE O, where is Romeo? saw you\\nhim to-day?\\nRight glad I am he was not at this fray.\\nBENVOLIO Madam, an hour before the worshipp’d sun\\nPeer’d forth the golden window of the east,\\nA troubled mind drave me to walk abroad;\\nWhere, underneath the grove of sycamore\\nThat westward rooteth from the city’s side,\\nSo early walking did I see your son:\\nTowards him I made, but he was ware of me\\nAnd stole into the covert of the wood:\\nI, measuring his affections by my own,\\nThat most are busied when they’re most alone,\\nPursued my humour not pursuing his,\\nAnd gladly shunn’d who gladly fled from me.\\nMONTAGUE Many a morning hath he there been seen,\\nWith tears augmenting the fresh morning’s dew.\\nAdding to clouds more clouds with his deep sighs;\\nBut all so soon as the all-cheering sun\\nShould in the furthest east begin to draw\\nThe shady curtains from Aurora’s bed,\\nAway from light steals home my heavy son,\\nAnd private in his chamber pens himself,\\nShuts up his windows, locks far daylight out\\nAnd makes himself an artificial night:\\nBlack and portentous must this humour prove,\\nUnless good counsel may the cause remove.\\nBENVOLIO My noble uncle, do you know the cause?\\nMONTAGUE I neither know it nor can learn of him.\\nBENVOLIO Have you importuned him by any means?\\nMONTAGUE Both by myself and many other friends:\\nBut he, his own affections’ counsellor,\\nIs to himself—I will not say how true—\\nBut to himself so secret and so close,\\nSo far from sounding and discovery,\\nAs is the bud bit with an envious worm,\\nEre he can spread his sweet leaves to the air,\\nOr dedicate his beauty to the sun.\\nCould we but learn from whence his sorrows grow.\\nWe would as willingly give cure as know.\\n[Enter ROMEO]\\nBENVOLIO See, where he comes: so please you,\\nstep aside;\\nI’ll know his grievance, or be much denied.\\nMONTAGUE I would thou wert so happy by thy stay,\\nTo hear true shrift. Come, madam, let’s away.\\n[Exeunt MONTAGUE and LADY MONTAGUE]\\nBENVOLIO Good morrow, cousin.\\nROMEO Is the day so young?\\nBENVOLIO But new struck nine.\\nROMEO Ay me! sad hours seem long.\\nWas that my father that went hence so fast?\\nBENVOLIO It was. What sadness lengthens\\nRomeo’s hours?\\nROMEO Not having that, which, having, makes\\nthem short.\\nBENVOLIO In love?\\nRomeo and Juliet: ACT I\\n8 Volume III Book IX\\nROMEO Out—\\nBENVOLIO Of love?\\nROMEO Out of her favour, where I am in love.\\nBENVOLIO Alas, that love, so gentle in his view,\\nShould be so tyrannous and rough in proof!\\nROMEO Alas, that love, whose view is muffled still,\\nShould, without eyes, see pathways to his will!\\nWhere shall we dine? O me! What fray was here?\\nYet tell me not, for I have heard it all.\\nHere’s much to do with hate, but more with love.\\nWhy, then, O brawling love! O loving hate!\\nO any thing, of nothing first create!\\nO heavy lightness! serious vanity!\\nMis-shapen chaos of well-seeming forms!\\nFeather of lead, bright smoke, cold fire,\\nsick health!\\nStill-waking sleep, that is not what it is!\\nThis love feel I, that feel no love in this.\\nDost thou not laugh?\\nBENVOLIO No, coz, I rather weep.\\nROMEO Good heart, at what?\\nBENVOLIO At thy good heart’s oppression.\\nROMEO Why, such is love’s transgression.\\nGriefs of mine own lie heavy in my breast,\\nWhich thou wilt propagate, to have it prest\\nWith more of thine: this love that thou hast shown\\nDoth add more grief to too much of mine own.\\nLove is a smoke raised with the fume of sighs;\\nBeing purged, a fire sparkling in lovers’ eyes;\\nBeing vex’d a sea nourish’d with lovers’ tears:\\nWhat is it else? a madness most discreet,\\nA choking gall and a preserving sweet.\\nFarewell, my coz.\\nBENVOLIO Soft! I will go along;\\nAn if you leave me so, you do me wrong.\\nROMEO Tut, I have lost myself; I am not here;\\nThis is not Romeo, he’s some other where.\\nBENVOLIO Tell me in sadness, who is that you love.\\nROMEO What, shall I groan and tell thee?\\nBENVOLIO Groan! why, no;\\nBut sadly tell me who.\\n";
    
    private static final String InfPL = " \\n3\\nWYJĄTKI\\n \\nDoświadczenie - to nazwa, jaką nadajemy\\nnaszym błędom.\\nOscar Wilde\\n \\nProgramiści nie są nieomylni. O tym wiedzą wszyscy, a najlepiej oni sami. W końcu to głównie do nich należy codzienna walka z większymi i mniejszymi błędami, wkradającymi się do kodu źródłowego. Dobrze, jeśli są to tylko usterki składniowe w rodzaju braku potrzebnego średnika albo domykającego nawiasu. Wtedy sam kompilator daje o nich znać.\\nNieco gorzej jest, gdy mamy do czynienia z błędami objawiającymi się dopiero podczas działania programu. Może to spowodować nawet produkowanie nieprawidłowych wyników przez naszą aplikację (błędy logiczne).\\nWszystkie tego rodzaju sytuację mają jędna cechę wspólną. Można bowiem (i należy) im zapobiegać: możliwe i pożądane jest takie poprawienie kodu, aby błędy tego typu nie pojawiały się. Aplikacja będzie wtedy działała poprawnie…\\n \\nAle czy na pewno? Czy twórca aplikacji może przewidzieć wszystkie sytuacje, w jakich znajdzie się jego program? Nawet jeśli jego kod jest całkowicie poprawny i wolny od błędów, to czy gwarantuje to jego poprawne działanie za każdym razem?…\\nGdyby odpowiedż na chociaż jedno z tych pytań brzmiała „Tak”, to programiści pewnie rwaliby sobie z głów o połowę mniej włosów niż obecnie. Niestety, nikt o zdrowym rozsądku nie może obiecać, że jego kod będzie zawsze działać zgodnie z oczekiwaniami. Naturalnie, jeżeli jest on napisany dobrze, to w większości przypadków tak właśnie będzie. Od każdej reguły zawsze jednak mogą wystąpić wyjątki…\\n \\nW tym rozdziale będziemy mówić właśnie o takich wyjątkach - albo raczej o sytuacjach wyjątkowych. Poznamy możliwości C++ w zakresie obsługi takich niecodziennych zdarzeń i ogólne metody radzenia sobie z nimi.\\nMechanizm wyjątków w C++\\n\\nCzym właściwie jest taka sytuacja wyjątkowa, która może narobić tyle zamieszania?… Otóż:\\n \\nSytuacja wyjątkowa (ang. exceptional state) ma miejsce wtedy, gdy warunki zewnętrzne uniemożliwiają danemu fragmentowi kodu poprawne wykonanie. Ów fragment nie jest winny zaistnienia sytuacji wyjątkowej.\\n \\nOgólnie sytuacją wyjątkową można nazwać każdy błąd występujący podczas działania programu, który nie jest spowodowany przez błędy w jego kodzie. To coś w rodzaju przykrej niespodzianki: nieprawidołowych danych, nieprzewidzianego braku zasobów, i tak dalej. Takie przypadki mogą zdarzyć się w każdym programie, nawet napisanym pozornie bezbłędnie i działającym doskonale w zwykłych warunkach. Sytuacje wyjątkowe, jak sama ich nazwa wskazuje, zdarzają się bowiem tylko w warunkach wyjątkowych…\\nTradycyjne metody obsługi błędów\\n\\nWystąpieniu sytuacji wyjątkowej zwykle nie można zapobiec - a przynajmniej nie może tego zrobić ten kawałek kodu, w którym ona faktycznie występuje. Jego rolą powinno być zatem poinformowanie o zainstniałym zdarzeniu kodu, który stoi „wyżej” w strukturze programu. Kod wyższego poziomu może wtedy podjąć jakieś sensowne akcje, a jeśli nie jest to możliwe - w ostateczności zakończyć działanie programu.\\n \\nDziałania wykonywane w reakcji na błędy są dość specyficzne dla każdego programu. Obejmowac mogą na przykład zapisanie informacji o zdarzeniu w specjalnym dzienniku, pokazanie komunikatu dla użytkownika czy też jeszcze inne czynności. Tym zagadnieniem nie bedziemy się więc zajmować.\\nZobaczmy raczej, jakimi sposobami może odbywać się powiadamianie o błędach. Tutaj istnieje kilka potencjalnym rozwiązań - niektóre są lepsze, inne nieco gorsze… Oto te najczęściej wykorzystywane.\\nDopuszczalne sposoby\\n\\nDo całkiem dobrych metod informowania o niespodziewanych sytuacjach należy zwracanie jakiejś specjalnej wartości - indykatora. Wywołujący daną funkcję może wtedy sprawdzić, czy błąd wystąpił, kontrolując rezultaty zwrócone przez podprogram.\\nZwracanie nietypowego wyniku\\nNajprostszą drogą poinformowania o błędzie jest zwrócenie pewnej specjalnej wartości, która w normalnych warunkach nie m prawa wystąpić. Aby to zilustrować, załóżmy przez chwilę, że mamy napisać funkcję obliczającą pierwiastek kwadratowy z podanej liczby. Wiedząc to, ochoczo zabieramy się do pracy, produkując np. taki oto kod:\\n \\nfloat Pierwiastek(float x)\\n{\\n   // stała określąjąca dokładność\\n   static const float EPSILON = 0.0001f;\\n \\n \\n   /* liczymy pierwiastek kwadratowy metodą Newtona */\\n \\n   // wybieramy punkt początkowy (połowę wartości)\\n   float fWynik = x / 2;\\n \\n   // wykonujemy tyle iteracji, aby otrzymać rozsądne przybliżenie\\n   while (abs(x - fWynik * fWynik) > EPSILON)\\n         fWynik = (fWynik + x / fWynik) / 2;\\n \\n   // zwracamy wynik\\n   return fWynik;\\n}\\n \\nFunkcja ta wykorzystuje iteracyjną metodę Newtona do obliczania pierwiastka, ale to nie jest dla nas zbyt ważne, bowiem dotyczy zwykłej sytuacji. My natomiast mówimy o sytuacjach niezwykłych. Co nią będzie dla naszej funkcji?…\\n \\nNa pewno będzie to podanie jej liczby ujemnej. Dopóki pozostajemy na gruncie prostej matematyki, jest to dla nas błędna wartość - nie można wyciągnąć pierwiastka kwadratowego z liczby mniejszej od zera.\\nNie można jednak wykluczyć, że nasza funkcja otrzyma kiedyś liczbę ujemną. Będzie to błąd, sytuacja wyjątkowa - i trzeba będzie na nią zareagować. Ściśle mówiąc, trzeba będzie poinformować o niej wywołującego funkcję.\\nSpecjalny rezultat\\n\\nJak można to zrobić?… Prostym sposobem jest zwrócenie specjalnej wartości. Niech będzie to wartość, która w normalnych warunkach nie ma prawa być zwrócona. W tym przypadku powinna to być taka liczba, której prawidłowe zwrócenie przez Pierwiastek() nie powinno mieć miejsca.\\nJaka to liczba? Oczywiście - dowolna liczba ujemna. Powiedzmy, że np. -1:\\n \\nif (x < 0)     return -1;\\n \\nPo dodaniu tego sprawdzenia funkcja będzie już odporna na sytuacje z nieprawidłowym argumentem. Wywołujący ją będzie musiał natomiast sprawdzać, czy rezultat funkcji nie jest przypadkiem informacją o błędzie - np. w ten sposób:\\n \\nfloat fLiczba;\\nfloat fPierwiastek;\\n \\nif ((fPierwiastek = Pierwiastek(fLiczba)) < 0)\\n   std::cout << \"Nieprawidlowa liczba\";\\nelse\\n   std::cout << \"Pierwiastek z \" << fLiczba << \" to \" << fPierwiastek;\\n \\nJak widać, przy wykorzystaniu wartości zwracanej operatora przypisania nie jest to szczególnie uciążliwe.\\nWady tego rozwiązania\\n\\nTakie rozwiązanie ma jednak kilka mankamentów. Pierwszą widać już tutaj: nie wygląda ono szczególnie estetycznie od strony wywołującego. Druga kwestia jest poważniejsza.\\n \\nJest nią problem doboru wartości specjalnej, sygnalizującej błąd. Zwracam uwagę, że nie ma ona prawa pojawienia się w jakiejkolwiek poprawnej sytuacji - musi ona jednoznacznie identyfikować błąd, a nie przydatny rezultat.\\nW przypadku funkcji Pierwiastek() było to proste, gdyż potencjalnych wartości jest mnóstwo: możemy przecież wykorzystać wszystkie liczby ujemne - poprawnym wynikiem funkcji jest bowiem tylko liczba dodatnia. Nie zawsze jednak musi tak być - czas na kolejny przykład matematyczny, tym razem z logarytmem o dowolnej podstawie:\\n \\nfloat LogA(float a, float x)    { return log(x) / log(a); }\\n \\nTutaj także możliwe jest podanie nieprawidłowych argumentów: wystarczy, żeby choć jeden z nich był ujemny lub aby podstawa logarytmu (a) była równa jeden. Nie warto polegać na reakcji funkcji bibliotecznej log() w razie zaistnienia takiej sytuacji; lepiej samemu coś na to poradzić.\\nNo właśnie - ale co? Możemy oczywiście skontrolować poprawność argumentów funkcji:\\n \\nif (a < 0 || a == 1.0f || x < 0)\\n   /* błąd, ale jak o nim powiedzieć?... */\\n \\nale nie bardzo wiadomo, jaką specjalną wartość należałoby zwrócić. W zakresie typu float nie ma bowiem żadnej „wolnej” liczby, ponieważ poprawny wynik logarytmu może być każdą liczbą rzeczywistą.\\nOstatecznie można zwrócić zero, który to wynik zachodzi normalnie tylko dla x równego 1. Wówczas jednak sprawdzanie potencjalnego błędu byłoby bardzo niewygodne:\\n \\n// sprawdzamy, czy rezultat jest równy zero, a argument różny od jeden;\\n// jeżeli tak, to błąd\\nif (((fWynik = LogA(fPodstawa, fLiczba)) == 0.0f) && fLiczba != 1.0f)\\n   std::cout << \"Zly argument funkcji\";\\nelse\\n   std::cout << \"Logarytm o podst. \" << fPodstawa << \" z \" << fLiczba\\n             << \" wynosi \" << fWynik;\\n \\nTo chyba przesądza fakt, iż łączenie informacji o błędzie z właściwym wynikiem nie jest dobrym pomysłem.\\nOddzielenie rezultatu od informacji o błędzie\\nObie te dane trzeba od siebie odseparować. Funkcja powinna zatem zwracać dwie wartości: jedną „właściwą” oraz drugą, informującą o powodzeniu lub niepowodzeniu operacji.\\n \\nMa to rozliczne zalety - między innymi:\\nO       pozwala przekazać więcej danych na temat charakteru błędu\\nO       upraszcza kontrolę poprawności wykonania funkcji\\nO       umożliwia swobodę zmian w kodzie i ewentualne rozszerzenie funkcjonalności\\n \\nWydaje się jednak, że jest dość poważny problem: jak funkcja miałaby zwracać dwie wartości?… Cóż, chyba brak ci pomysłowości - istnieje bowiem kilka dróg zrealizowania tego mechanizmu.\\nWykorzystanie wskaźników\\n\\nNasza funkcja, oprócz normalnych argumentów, może przyjmować jeden wskaźnik. Za jego pośrednictwem przekazana zostanie dodatkowa wartość. Może to być informacja o błędzie, ale częściej (i wygodniej) umieszcza się tam właściwy rezultat funkcji.\\n \\nJak to wygląda? Oto przykład. Funkcja StrToUInt() dokonuje zamiany liczby naturalnej zapisanej jako ciąg znaków (np. \"21433\") na typ unsigned:\\n \\n#include <cmath>\\n \\nbool StrToUInt(const std::string& strLiczba, unsigned* puWynik)\\n{\\n   // sprawdzamy, czy podany napis w ogóle zawiera znaki\\n   if (strLiczba.empty())  return false;\\n \\n \\n   /* dokonujemy konwersji */\\n \\n   // zmienna na wynik\\n   unsigned uWynik = 0;\\n \\n   // przelatujemy po kolejnych znakach, sprawdzając czy są to cyfry\\n   for (unsigned i = 0; i < strLiczba.length(); ++i)\\n         if (strLiczba[i] > '0' && strLiczba[i] < '9')\\n         {\\n               // OK - cyfra; mnożymy aktualny wynik przez 10\\n               // i dodajemy tę cyfrę\\n               uWynik *= 10;\\n               uWynik += strLiczba[i] - '0';\\n         }\\n         else\\n               // jeżeli znak nie jest cyfrą, to kończymy niepowodzeniem\\n               return false;\\n \\n   // w przypadku sukcesu przepisujemy wynik i zwracamy true\\n   *puWynik = uWynik;\\n   return true;\\n}\\n \\nNie jest ona może najszybsza, jako że wykorzystuje najprostszy, „naturalny” algorytm konwersji. Nam jednak chodzi o coś innego: o sposób, w jaki funkcja zwraca rezultat i informację o ewentualnym błędzie.\\nJak można zauważyć, typem zwracanym przez funkcję jest bool. Nie jest to więc zasadniczy wynik, lecz tylko znacznik powodzenia lub niepowodzenia działań. Zasadniczy rezultat to kwestia ostatniego parametru funkcji: należy tam przekazać wskaźnik na zmienną, która otrzyma wynikową liczbę.\\n \\nBrzmi to może nieco skomplikowanie, ale w praktyce korzystanie z tak napisanej funkcji jest bardzo proste:\\n \\nstd::string strLiczba;\\nunsigned uLiczba;\\n \\nif (StrToUInt(strLiczba, &uLiczba))\\n   std::cout << strLiczba << \" razy dwa == \" << uLiczba * 2;\\nelse\\n   std::cout << strLiczba << \" - nieprawidlowa liczba\";\\n \\nMożesz się spierać: „Ale przecież tutaj mamy wybitnego kandydata na połączenie rezultatu z informacją o błędzie! Wystarczy zmienić zwracany typ na int - wtedy wszystkie wartości ujemne mogłyby informować o błędzie!…”\\nChyba jednak sam widzisz, jak to rozwiązanie byłoby naciągane. Nie dość, że użylibyśmy nieadekwatnego typu danych (który ma mniejszy zakres interesujących nas liczb dodatnich niż unsigned), to jeszcze ograniczylibyśmy możliwość przyszłej rozbudowy funkcji. Załóżmy na przykład, że na bazie StrToUInt() chcesz napisać funkcję StrToInt():\\n \\nbool StrToInt(const std::string& strLiczba, int* pnWynik);\\n \\nNie jest to trudne, jeżeli wykorzystujemy zaprezentowaną tu technikę informacji o błędach. Gdybyśmy jednak poprzestali na łączeniu rezultatu z informacją o błedzie, wówczas byłoby to problemem. Oto stracilibyśmy przecież całą „ujemną połówkę” typu int, bo ona teraz także musiałaby być przeznaczona na poprawne wartości.\\n \\nDla wprawy w ogólnym programowaniu możesz napisać funkcję StrToInt(). Jest to raczej proste: wystarczy dodać sprawdzanie znaku ‘minus’ na początku liczby i nieco zmodyfikować pętlę for.\\n \\nWidać więc, że mimo pozornego zwiększenia poziomu komplikacji, ten sposób informowania o błedach jest lepszy. Nic dziwnego, że stosują go zarówno funkcje Windows API, jak i interfejsu DirectX.\\nUżycie struktury\\n\\nDla nieobytych ze wskaźnikami (mam nadzieję, że do nich nie należysz) sposób zaprezentowany wyżej może się wydawać dziwny. Istnieje też nieco inna metoda na odseparowanie właściwego rezultatu od informacji o błędzie.\\n \\nOtóż parametry funkcji pozostawiamy bez zmian, natomiast inny będzie typ zwracany przez nią. W miejsce pojedynczej wartości (jak poprzednio: unsigned) użyjemy struktury:\\n \\nstruct RESULT\\n{\\n   unsigned uWynik;\\n   bool bBlad;\\n};\\n \\nZmodyfikowany prototyp będzie więc wyglądał tak:\\n \\nRESULT StrToUInt(const std::string& strLiczba);\\n \\nMyślę, że nietrudno zgadnąć, jakie zmiany zajdą w treści funkcji.\\n \\nWywołanie tak spreparowanej funkcji nie odbiega od wywołania funkcji z „wymieszanym” rezultatem. Musi ono wyglądać co najmniej tak:\\n \\nRESULT Wynik = StrToUInt(strLiczba);\\nif (Wynik.bBlad)\\n   /* błąd */\\n \\nMożna też użyć warunku:\\n \\nif ((Wynik = StrToUInt(strLiczba)).bBlad)\\n \\nktóry wygląda pewnie dziwnie, ale jest składniowo poprawny, bo przecież wynikiem przypisania jest zmienna typu RESULT.\\n \\nTak czy inaczej, nie jest to zbyt pociągająca droga. Jest jeszcze gorzej, jeśli uświadomimy sobie, że dla każdego możliwego typu rezultatu należałoby definiować odrębną strukturę. Poza tym prototyp funkcji staje się mniej";
    
    private static final String InfEN = "Features\\n• High-performance, Low-power Atmel®AVR® 8-bit Microcontroller\\n• Advanced RISC Architecture\\n– 130 Powerful Instructions – Most Single-clock Cycle Execution\\n– 32 × 8 General Purpose Working Registers\\n– Fully Static Operation\\n– Up to 16MIPS Throughput at 16MHz\\n– On-chip 2-cycle Multiplier\\n• High Endurance Non-volatile Memory segments\\n– 8Kbytes of In-System Self-programmable Flash program memory\\n– 512Bytes EEPROM\\n– 1Kbyte Internal SRAM\\n– Write/Erase Cycles: 10,000 Flash/100,000 EEPROM\\n– Data retention: 20 years at 85°C/100 years at 25°C(1)\\n– Optional Boot Code Section with Independent Lock Bits\\nIn-System Programming by On-chip Boot Program\\nTrue Read-While-Write Operation\\n– Programming Lock for Software Security\\n• Peripheral Features\\n– Two 8-bit Timer/Counters with Separate Prescaler, one Compare Mode\\n– One 16-bit Timer/Counter with Separate Prescaler, Compare Mode, and Capture\\nMode\\n– Real Time Counter with Separate Oscillator\\n– Three PWM Channels\\n– 8-channel ADC in TQFP and QFN/MLF package\\nEight Channels 10-bit Accuracy\\n– 6-channel ADC in PDIP package\\nSix Channels 10-bit Accuracy\\n– Byte-oriented Two-wire Serial Interface\\n– Programmable Serial USART\\n– Master/Slave SPI Serial Interface\\n– Programmable Watchdog Timer with Separate On-chip Oscillator\\n– On-chip Analog Comparator\\n• Special Microcontroller Features\\n– Power-on Reset and Programmable Brown-out Detection\\n– Internal Calibrated RC Oscillator\\n– External and Internal Interrupt Sources\\n– Five Sleep Modes: Idle, ADC Noise Reduction, Power-save, Power-down, and\\nStandby\\n• I/O and Packages\\n– 23 Programmable I/O Lines\\n– 28-lead PDIP, 32-lead TQFP, and 32-pad QFN/MLF\\n• Operating Voltages\\n– 2.7V - 5.5V (ATmega8L)\\n– 4.5V - 5.5V (ATmega8)\\n• Speed Grades\\n– 0 - 8MHz (ATmega8L)\\n– 0 - 16MHz (ATmega8)\\n• Power Consumption at 4Mhz, 3V, 25?C\\n– Active: 3.6mA\\n– Idle Mode: 1.0mA\\n– Power-down Mode: 0.5µA\\n8-bit Atmel with\\n8KBytes InSystem\\nProgrammable\\nFlash\\nATmega8\\nATmega8L\\nRev.2486AA–AVR–02/2013\\n2\\n2486AA–AVR–02/2013\\nATmega8(L)\\nPin\\nConfigurations\\n1\\n2\\n3\\n4\\n5\\n6\\n7\\n8\\n24\\n23\\n22\\n21\\n20\\n19\\n18\\n17\\n(INT1) PD3\\n(XCK/T0) PD4\\nGND\\nVCC\\nGND\\nVCC\\n(XTAL1/TOSC1) PB6\\n(XTAL2/TOSC2) PB7\\nPC1 (ADC1)\\nPC0 (ADC0)\\nADC7\\nGND\\nAREF\\nADC6\\nAVCC\\nPB5 (SCK)\\n32\\n31\\n30\\n29\\n28\\n27\\n26\\n25\\n9\\n10\\n11\\n12\\n13\\n14\\n15\\n16\\n(T1) PD5\\n(AIN0) PD6\\n(AIN1) PD7\\n(ICP1) PB0\\n(OC1A) PB1\\n(SS/OC1B) PB2\\n(MOSI/OC2) PB3\\n(MISO) PB4\\nPD2 (INT0)\\nPD1 (TXD)\\nPD0 (RXD)\\nPC6 (RESET)\\nPC5 (ADC5/SCL)\\nPC4 (ADC4/SDA)\\nPC3 (ADC3)\\nPC2 (ADC2)\\nTQFP Top View\\n1\\n2\\n3\\n4\\n5\\n6\\n7\\n8\\n9\\n10\\n11\\n12\\n13\\n14\\n28\\n27\\n26\\n25\\n24\\n23\\n22\\n21\\n20\\n19\\n18\\n17\\n16\\n15\\n(RESET) PC6\\n(RXD) PD0\\n(TXD) PD1\\n(INT0) PD2\\n(INT1) PD3\\n(XCK/T0) PD4\\nVCC\\nGND\\n(XTAL1/TOSC1) PB6\\n(XTAL2/TOSC2) PB7\\n(T1) PD5\\n(AIN0) PD6\\n(AIN1) PD7\\n(ICP1) PB0\\nPC5 (ADC5/SCL)\\nPC4 (ADC4/SDA)\\nPC3 (ADC3)\\nPC2 (ADC2)\\nPC1 (ADC1)\\nPC0 (ADC0)\\nGND\\nAREF\\nAVCC\\nPB5 (SCK)\\nPB4 (MISO)\\nPB3 (MOSI/OC2)\\nPB2 (SS/OC1B)\\nPB1 (OC1A)\\nPDIP\\n1\\n2\\n3\\n4\\n5\\n6\\n7\\n8\\n24\\n23\\n22\\n21\\n20\\n19\\n18\\n17\\n32\\n31\\n30\\n29\\n28\\n27\\n26\\n25\\n9\\n10\\n11\\n12\\n13\\n14\\n15\\n16\\nMLF Top View\\n(INT1) PD3\\n(XCK/T0) PD4\\nGND\\nVCC\\nGND\\nVCC\\n(XTAL1/TOSC1) PB6\\n(XTAL2/TOSC2) PB7\\nPC1 (ADC1)\\nPC0 (ADC0)\\nADC7\\nGND\\nAREF\\nADC6\\nAVCC\\nPB5 (SCK)\\n(T1) PD5\\n(AIN0) PD6\\n(AIN1) PD7\\n(ICP1) PB0\\n(OC1A) PB1\\n(SS/OC1B) PB2\\n(MOSI/OC2) PB3\\n(MISO) PB4\\nPD2 (INT0)\\nPD1 (TXD)\\nPD0 (RXD)\\nPC6 (RESET)\\nPC5 (ADC5/SCL)\\nPC4 (ADC4/SDA)\\nPC3 (ADC3)\\nPC2 (ADC2)\\nNOTE:\\nThe large center pad underneath the MLF\\npackages is made of metal and internally\\nconnected to GND. It should be soldered\\nor glued to the PCB to ensure good\\nmechanical stability. If the center pad is\\nleft unconneted, the package might\\nloosen from the PCB.\\n3\\n2486AA–AVR–02/2013\\nATmega8(L)\\nOverview The Atmel®AVR® ATmega8 is a low-power CMOS 8-bit microcontroller based on the AVR RISC\\narchitecture. By executing powerful instructions in a single clock cycle, the ATmega8 achieves\\nthroughputs approaching 1MIPS per MHz, allowing the system designer to optimize power consumption\\nversus processing speed.\\nBlock Diagram Figure 1. Block Diagram\\nINTERNAL\\nOSCILLATOR\\nOSCILLATOR\\nWATCHDOG\\nTIMER\\nMCU CTRL.\\n& TIMING\\nOSCILLATOR\\nTIMERS/\\nCOUNTERS\\nINTERRUPT\\nUNIT\\nSTACK\\nPOINTER\\nEEPROM\\nSRAM\\nSTATUS\\nREGISTER\\nUSART\\nPROGRAM\\nCOUNTER\\nPROGRAM\\nFLASH\\nINSTRUCTION\\nREGISTER\\nINSTRUCTION\\nDECODER\\nPROGRAMMING\\nLOGIC SPI\\nADC\\nINTERFACE\\nCOMP.\\nINTERFACE\\nPORTC DRIVERS/BUFFERS\\nPORTC DIGITAL INTERFACE\\nGENERAL\\nPURPOSE\\nREGISTERS\\nX\\nY\\nZ\\nALU\\n+\\n-\\nPORTB DRIVERS/BUFFERS\\nPORTB DIGITAL INTERFACE\\nPORTD DIGITAL INTERFACE\\nPORTD DRIVERS/BUFFERS\\nXTAL1\\nXTAL2\\nCONTROL\\nLINES\\nVCC\\nGND\\nMUX &\\nADC\\nAGND\\nAREF\\nPC0 - PC6 PB0 - PB7\\nPD0 - PD7\\nAVR CPU\\nTWI\\nRESET\\n4\\n2486AA–AVR–02/2013\\nATmega8(L)\\nThe Atmel®AVR® core combines a rich instruction set with 32 general purpose working registers.\\nAll the 32 registers are directly connected to the Arithmetic Logic Unit (ALU), allowing two independent\\nregisters to be accessed in one single instruction executed in one clock cycle. The\\nresulting architecture is more code efficient while achieving throughputs up to ten times faster\\nthan conventional CISC microcontrollers.\\nThe ATmega8 provides the following features: 8 Kbytes of In-System Programmable Flash with\\nRead-While-Write capabilities, 512 bytes of EEPROM, 1 Kbyte of SRAM, 23 general purpose\\nI/O lines, 32 general purpose working registers, three flexible Timer/Counters with compare\\nmodes, internal and external interrupts, a serial programmable USART, a byte oriented Twowire\\nSerial Interface, a 6-channel ADC (eight channels in TQFP and QFN/MLF packages) with\\n10-bit accuracy, a programmable Watchdog Timer with Internal Oscillator, an SPI serial port,\\nand five software selectable power saving modes. The Idle mode stops the CPU while allowing\\nthe SRAM, Timer/Counters, SPI port, and interrupt system to continue functioning. The Powerdown\\nmode saves the register contents but freezes the Oscillator, disabling all other chip functions\\nuntil the next Interrupt or Hardware Reset. In Power-save mode, the asynchronous timer\\ncontinues to run, allowing the user to maintain a timer base while the rest of the device is sleeping.\\nThe ADC Noise Reduction mode stops the CPU and all I/O modules except asynchronous\\ntimer and ADC, to minimize switching noise during ADC conversions. In Standby mode, the\\ncrystal/resonator Oscillator is running while the rest of the device is sleeping. This allows very\\nfast start-up combined with low-power consumption.\\nThe device is manufactured using Atmel’s high density non-volatile memory technology. The\\nFlash Program memory can be reprogrammed In-System through an SPI serial interface, by a\\nconventional non-volatile memory programmer, or by an On-chip boot program running on the\\nAVR core. The boot program can use any interface to download the application program in the\\nApplication Flash memory. Software in the Boot Flash Section will continue to run while the\\nApplication Flash Section is updated, providing true Read-While-Write operation. By combining\\nan 8-bit RISC CPU with In-System Self-Programmable Flash on a monolithic chip, the Atmel\\nATmega8 is a powerful microcontroller that provides a highly-flexible and cost-effective solution\\nto many embedded control applications.\\nThe ATmega8 is supported with a full suite of program and system development tools, including\\nC compilers, macro assemblers, program simulators, and evaluation kits.\\nDisclaimer Typical values contained in this datasheet are based on simulations and characterization of\\nother AVR microcontrollers manufactured on the same process technology. Minimum and Maximum\\nvalues will be available after the device is characterized.\\n5\\n2486AA–AVR–02/2013\\nATmega8(L)\\nPin Descriptions\\nVCC Digital supply voltage.\\nGND Ground.\\nPort B (PB7..PB0)\\nXTAL1/XTAL2/TOSC1/\\nTOSC2\\nPort B is an 8-bit bi-directional I/O port with internal pull-up resistors (selected for each bit). The\\nPort B output buffers have symmetrical drive characteristics with both high sink and source\\ncapability. As inputs, Port B pins that are externally pulled low will source current if the pull-up\\nresistors are activated. The Port B pins are tri-stated when a reset condition becomes active,\\neven if the clock is not running.\\nDepending on the clock selection fuse settings, PB6 can be used as input to the inverting Oscillator\\namplifier and input to the internal clock operating circuit.\\nDepending on the clock selection fuse settings, PB7 can be used as output from the inverting\\nOscillator amplifier.\\nIf the Internal Calibrated RC Oscillator is used as chip clock source, PB7..6 is used as TOSC2..1\\ninput for the Asynchronous Timer/Counter2 if the AS2 bit in ASSR is set.\\nThe various special features of Port B are elaborated in “Alternate Functions of Port B” on page\\n58 and “System Clock and Clock Options” on page 25.\\nPort C (PC5..PC0) Port C is an 7-bit bi-directional I/O port with internal pull-up resistors (selected for each bit). The\\nPort C output buffers have symmetrical drive characteristics with both high sink and source\\ncapability. As inputs, Port C pins that are externally pulled low will source current if the pull-up\\nresistors are activated. The Port C pins are tri-stated when a reset condition becomes active,\\neven if the clock is not running.\\nPC6/RESET If the RSTDISBL Fuse is programmed, PC6 is used as an I/O pin. Note that the electrical characteristics\\nof PC6 differ from those of the other pins of Port C.\\nIf the RSTDISBL Fuse is unprogrammed, PC6 is used as a Reset input. A low level on this pin\\nfor longer than the minimum pulse length will generate a Reset, even if the clock is not running.\\nThe minimum pulse length is given in Table 15 on page 38. Shorter pulses are not guaranteed to\\ngenerate a Reset.\\nThe various special features of Port C are elaborated on page 61.\\nPort D (PD7..PD0) Port D is an 8-bit bi-directional I/O port with internal pull-up resistors (selected for each bit). The\\nPort D output buffers have symmetrical drive characteristics with both high sink and source\\ncapability. As inputs, Port D pins that are externally pulled low will source current if the pull-up\\nresistors are activated. The Port D pins are tri-stated when a reset condition becomes active,\\neven if the clock is not running.\\nPort D also serves the functions of various special features of the ATmega8 as listed on page\\n63.\\nRESET Reset input. A low level on this pin for longer than the minimum pulse length will generate a\\nreset, even if the clock is not running. The minimum pulse length is given in Table 15 on page\\n38. Shorter pulses are not guaranteed to generate a reset.\\n6\\n2486AA–AVR–02/2013\\nATmega8(L)\\nAVCC AVCC is the supply voltage pin for the A/D Converter, Port C (3..0), and ADC (7..6). It should be\\nexternally connected to VCC, even if the ADC is not used. If the ADC is used, it should be connected\\nto VCC through a low-pass filter. Note that Port C (5..4) use digital supply voltage, VCC.\\nAREF AREF is the analog reference pin for the A/D Converter.\\nADC7..6 (TQFP and\\nQFN/MLF Package\\nOnly)\\nIn the TQFP and QFN/MLF package, ADC7..6 serve as analog inputs to the A/D converter.\\nThese pins are powered from the analog supply and serve as 10-bit ADC channels.\\n7\\n2486AA–AVR–02/2013\\nATmega8(L)\\nResources A comprehensive set of development tools, application notes and datasheets are available for\\ndownload on http://www.atmel.com/avr.\\n";
           
            
            
          }
